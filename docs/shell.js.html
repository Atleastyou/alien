<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Source: core/navigator/shell.js - Alien documents</title>

    <link type="text/css" rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="/static/css/bootstrap-theme.min.css">
    <link type="text/css" rel="stylesheet" href="/static/styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="/static/css/docs.css">
</head>

<body>


<div class="navbar navbar-inverse navbar-fixed-top">
	<div class="container">
	    <div class="navbar-header">
	        <a class="navbar-brand" href="index.html">Alien documents</a>
	    </div>
	    <nav role="navigation">
			<ul class="nav navbar-nav">
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
<ul class="dropdown-menu">
<li><a href="jsonp.html">core/communication/jsonp</a></li>
<li><a href="xhr.html">core/communication/xhr</a></li>
<li><a href="animation.html">core/dom/animation</a></li>
<li><a href="attribute.html">core/dom/attribute</a></li>
<li><a href="modification.html">core/dom/modification</a></li>
<li><a href="selector.html">core/dom/selector</a></li>
<li><a href="base.html">core/event/base</a></li>
<li><a href="ready.html">core/event/ready</a></li>
<li><a href="touch.html">core/event/touch</a></li>
<li><a href="wheel.html">core/event/wheel</a></li>
<li><a href="compatible.html">core/navigator/compatible</a></li>
<li><a href="hashbang.html">core/navigator/hashbang</a></li>
<li><a href="querystring.html">core/navigator/querystring</a></li>
<li><a href="shell.html">core/navigator/shell</a></li>
<li><a href="ua.html">core/navigator/ua</a></li>
<li><a href="Deferred.html">libs/Deferred</a></li>
<li><a href="Emitter.html">libs/Emitter</a></li>
<li><a href="drag.html">parent/drag</a></li>
<li><a href="Template.html">parent/Template</a></li>
<li><a href="upload.html">parent/upload</a></li>
<li><a href="Banner.html">ui/Banner</a></li>
<li><a href="index_.html">ui/dialog/index</a></li>
<li><a href="Drag_.html">ui/Drag</a></li>
<li><a href="index__.html">ui/msg/index</a></li>
<li><a href="Pagination.html">ui/Pagination</a></li>
<li><a href="index___.html">ui/scrollbar/index</a></li>
<li><a href="class.html">util/class</a></li>
<li><a href="data.html">util/data</a></li>
<li><a href="date.html">util/date</a></li>
<li><a href="easing.html">util/easing</a></li>
<li><a href="Pagination_.html">util/Pagination</a></li>
<li><a href="Validate.html">util/Validate</a></li>
</ul>
</li>
</ul>

			<ul class="nav navbar-nav navbar-right">
                <li><a href="/">Alien home</a></li>
            </ul>
	    </nav>
  </div>
</div>


<div id="main">


	

	    <div class="main">
	        <nav id="docs-sidebar">
	            

	            <ul class="nav sidebar-list">
	                

	                

	                

	                
	            </ul>
	        </nav>

	        <section id="docs-content">
	            <div class="content">
		            <h1 class="page-title">Source: core/navigator/shell.js</h1>

		            


    

<pre class="prettyprint source"><code>/*!
 * shell.js
 * @author ydr.me
 * @create 2014-09-30 17:22
 */


define(function (require, exports, module) {
    /**
     * @module core/navigator/shell
     */
    'use strict';

    var ieAX = window.ActiveXObject;
    var ieMode = document.documentMode;
    var ieVer = _getIeVersion() || ieMode || 0;
    var isIe = ieAX || ieMode;
    var chromiumType = _getChromiumType();

    module.exports = {
        /**
         * 判断是否为 IE 浏览器
         *
         * @example
         * shell.isIE;
         * // true or false
         */
        isIE: (function () {
            return !!ieVer;
        })(),
        /**
         * IE 版本
         *
         * @example
         * shell.ieVersion;
         * // 6/7/8/9/10/11/12...
         */
        ieVersion: (function () {
            return ieVer;
        })(),
        /**
         * 是否为谷歌 chrome 浏览器
         *
         * @example
         * shell.isChrome;
         * // true or false
         */
        isChrome: (function () {
            return chromiumType === 'chrome';
        })(),
        /**
         * 是否为360安全浏览器
         *
         * @example
         * shell.is360se;
         * // true or false
         */
        is360se: (function () {
            return chromiumType === '360se';
        })(),
        /**
         * 是否为360极速浏览器
         *
         * @example
         * shell.is360ee;
         * // true or false
         */
        is360ee: (function () {
            return chromiumType === '360ee';
        })(),
        /**
         * 是否为猎豹安全浏览器
         *
         * @example
         * shell.isLiebao;
         * // true or false
         */
        isLiebao: (function () {
            return chromiumType === 'liebao';
        })(),
        /**
         * 是否搜狗高速浏览器
         *
         * @example
         * shell.isSogou;
         * // true or false
         */
        isSogou: (function () {
            return chromiumType === 'sogou';
        })(),
        /**
         * 是否为 QQ 浏览器
         *
         * @example
         * shell.isQQ;
         * // true or false
         */
        isQQ: (function () {
            return chromiumType === 'qq';
        })()
    };


//    /**
//     * 测试 MIME
//     * @param where
//     * @param value
//     * @param [name]
//     * @param [nameReg]
//     * @returns {boolean}
//     * @private
//     */
//    function _mime(where, value, name, nameReg) {
//        var mimeTypes = navigator.mimeTypes;
//        var i;
//
//        for (i in mimeTypes) {
//            if (mimeTypes[i][where] == value) {
//                if (name !== undefined &amp;&amp; nameReg.test(mimeTypes[i][name])) {
//                    return !0;
//                }
//                else if (name === undefined) {
//                    return !0;
//                }
//            }
//        }
//
//        return !1;
//    }


    /**
     * 检测 external 是否包含该字段
     * @param reg 正则
     * @param type 检测类型，0为键，1为值
     * @returns {boolean}
     * @private
     */
    function _testExternal(reg, type) {
        var external = window.external || {};

        for (var i in external) {
            if (reg.test(type ? external[i] : i)) {
                return !0
            }
        }

        return !1;
    }


    /**
     * 获取 Chromium 内核浏览器类型
     * @link http://www.adtchrome.com/js/help.js
     * @link https://ext.chrome.360.cn/webstore
     * @link https://ext.se.360.cn
     * @return {String}
     *         360ee 360极速浏览器
     *         360se 360安全浏览器
     *         sougou 搜狗浏览器
     *         liebao 猎豹浏览器
     *         chrome 谷歌浏览器
     *         ''    无法判断
     * @version 1.0
     * 2014年3月12日20:39:55
     */

    function _getChromiumType() {
        if (isIe || typeof window.scrollMaxX !== 'undefined') {
            return '';
        }

        var _track = 'track' in document.createElement('track');
        var webstoreKeysLength = window.chrome &amp;&amp; window.chrome.webstore ? Object.keys(window.chrome.webstore).length : 0;

        // 搜狗浏览器
        if (_testExternal(/^sogou/i, 0)) {
            return 'sogou';
        }

        // 猎豹浏览器
        if (_testExternal(/^liebao/i, 0)) {
            return 'liebao';
        }

        // chrome
        if (window.chrome &amp;&amp; window.chrome.runtime) {
            return 'chrome';
        }


        if (_track) {
            // 360极速浏览器
            // 360安全浏览器
            return webstoreKeysLength > 1 ? '360ee' : '360se';
        }

        return '';
    }


    // 获得ie浏览器版本

    function _getIeVersion() {
        var v = 3,
            p = document.createElement('p'),
            all = p.getElementsByTagName('i');

        while (
            p.innerHTML = '&lt;!--[if gt IE ' + (++v) + ']>&lt;i>&lt;/i>&lt;![endif]-->',
                all[0]);

        return v > 4 ? v : 0;
    }

});</code></pre>






	            </div>
	        </section>
	    </div>

    


</div>

<script src="/static/js/jquery.1.10.min.js"> </script>
<script src="/static/js/prettify/prettify.js"> </script>
<script src="/static/js/prettify/lang-css.js"> </script>
<script> prettyPrint(); </script>
<script src="/static/js/linenumber.js"> </script>
<script src="/static/js/bootstrap.js"> </script>
<script src="/static/js/script.js"> </script>

</body>
</html>
