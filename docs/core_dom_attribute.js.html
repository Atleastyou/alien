<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Source: core/dom/attribute.js - Alien documents</title>

    <link type="text/css" rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="/static/css/bootstrap-theme.min.css">
    <link type="text/css" rel="stylesheet" href="/static/styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="/static/css/docs.css">
</head>

<body>


<div class="navbar navbar-inverse navbar-fixed-top">
	<div class="container">
	    <div class="navbar-header">
	        <a class="navbar-brand" href="index.html">Alien documents</a>
	    </div>
	    <nav role="navigation">
			<ul class="nav navbar-nav">
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
<ul class="dropdown-menu">
<li><a href="libs_router.module_js.html">js</a></li>
<li><a href="module-core_communication_jsonp.html">core/communication/jsonp</a></li>
<li><a href="module-core_communication_upload.html">core/communication/upload</a></li>
<li><a href="module-core_communication_xhr.html">core/communication/xhr</a></li>
<li><a href="module-core_dom_animation.html">core/dom/animation</a></li>
<li><a href="module-core_dom_attribute.html">core/dom/attribute</a></li>
<li><a href="module-core_dom_canvas.html">core/dom/canvas</a></li>
<li><a href="module-core_dom_modification.html">core/dom/modification</a></li>
<li><a href="module-core_dom_see.html">core/dom/see</a></li>
<li><a href="module-core_dom_selector.html">core/dom/selector</a></li>
<li><a href="module-core_event_base.html">core/event/base</a></li>
<li><a href="module-core_event_drag.html">core/event/drag</a></li>
<li><a href="module-core_event_hotkey.html">core/event/hotkey</a></li>
<li><a href="module-core_event_ready.html">core/event/ready</a></li>
<li><a href="module-core_event_touch.html">core/event/touch</a></li>
<li><a href="module-core_event_wheel.html">core/event/wheel</a></li>
<li><a href="module-core_navigator_compatible.html">core/navigator/compatible</a></li>
<li><a href="module-core_navigator_cookie.html">core/navigator/cookie</a></li>
<li><a href="module-core_navigator_hashbang.html">core/navigator/hashbang</a></li>
<li><a href="module-core_navigator_querystring.html">core/navigator/querystring</a></li>
<li><a href="module-core_navigator_shell.html">core/navigator/shell</a></li>
<li><a href="module-core_navigator_storage.html">core/navigator/storage</a></li>
<li><a href="module-core_navigator_ua.html">core/navigator/ua</a></li>
<li><a href="module-libs_animation.html">libs/animation</a></li>
<li><a href="module-libs_emitter.html">libs/emitter</a></li>
<li><a href="module-libs_pagination.html">libs/pagination</a></li>
<li><a href="module-libs_pjax.html">libs/pjax</a></li>
<li><a href="module-libs_qrcode.html">libs/qrcode</a></li>
<li><a href="module-libs_queue.html">libs/queue</a></li>
<li><a href="module-libs_scroll_.html">libs/scroll/</a></li>
<li><a href="module-libs_template.html">libs/template</a></li>
<li><a href="module-libs_validation.html">libs/validation</a></li>
<li><a href="module-libs_validator.html">libs/validator</a></li>
<li><a href="module-libs_weixin.html">libs/weixin</a></li>
<li><a href="module-parent_color.html">parent/color</a></li>
<li><a href="module-parent_index.html">parent/index</a></li>
<li><a href="module-parent_keyframes.html">parent/keyframes</a></li>
<li><a href="module-parent_rules.html">parent/rules</a></li>
<li><a href="module-ui_.html">ui/</a></li>
<li><a href="module-ui_auto-height_.html">ui/auto-height/</a></li>
<li><a href="module-ui_banner_.html">ui/banner/</a></li>
<li><a href="module-ui_ctrl-list_.html">ui/ctrl-list/</a></li>
<li><a href="module-ui_datetime-picker_.html">ui/datetime-picker/</a></li>
<li><a href="module-ui_dialog_.html">ui/dialog/</a></li>
<li><a href="module-ui_editor_.html">ui/editor/</a></li>
<li><a href="module-ui_fullpage_.html">ui/fullpage/</a></li>
<li><a href="module-ui_img-clip_.html">ui/img-clip/</a></li>
<li><a href="module-ui_img-view_.html">ui/img-view/</a></li>
<li><a href="module-ui_lazyload_.html">ui/lazyload/</a></li>
<li><a href="module-ui_loading_.html">ui/loading/</a></li>
<li><a href="module-ui_mask_.html">ui/mask/</a></li>
<li><a href="module-ui_msg_.html">ui/msg/</a></li>
<li><a href="module-ui_pager_.html">ui/pager/</a></li>
<li><a href="module-ui_pagination_.html">ui/pagination/</a></li>
<li><a href="module-ui_popup_.html">ui/popup/</a></li>
<li><a href="module-ui_prettify_.html">ui/prettify/</a></li>
<li><a href="module-ui_qrcode_.html">ui/qrcode/</a></li>
<li><a href="module-ui_range_.html">ui/range/</a></li>
<li><a href="module-ui_resize_.html">ui/resize/</a></li>
<li><a href="module-ui_scrollbar_.html">ui/scrollbar/</a></li>
<li><a href="module-ui_stickly_.html">ui/stickly/</a></li>
<li><a href="module-ui_tab_.html">ui/tab/</a></li>
<li><a href="module-ui_tooltip_.html">ui/tooltip/</a></li>
<li><a href="module-ui_validator_.html">ui/validator/</a></li>
<li><a href="module-ui_window_.html">ui/window/</a></li>
<li><a href="module-utils_allocation.html">utils/allocation</a></li>
<li><a href="module-utils_calendar.html">utils/calendar</a></li>
<li><a href="module-utils_canvas.html">utils/canvas</a></li>
<li><a href="module-utils_class.html">utils/class</a></li>
<li><a href="module-utils_controller.html">utils/controller</a></li>
<li><a href="module-utils_date.html">utils/date</a></li>
<li><a href="module-utils_dato.html">utils/dato</a></li>
<li><a href="module-utils_easing.html">utils/easing</a></li>
<li><a href="module-utils_hashbang.html">utils/hashbang</a></li>
<li><a href="module-utils_matrix.html">utils/matrix</a></li>
<li><a href="module-utils_number.html">utils/number</a></li>
<li><a href="module-utils_querystring.html">utils/querystring</a></li>
<li><a href="module-utils_random.html">utils/random</a></li>
<li><a href="module-utils_selection.html">utils/selection</a></li>
<li><a href="module-utils_string.html">utils/string</a></li>
<li><a href="module-utils_typeis.html">utils/typeis</a></li>
<li><a href="module-utils_url.html">utils/url</a></li>
<li><a href="module-widgets_confirm.html">widgets/confirm</a></li>
<li><a href="module-widgets_prompt.html">widgets/prompt</a></li>
<li><a href="parent_marked-render-table.module_js.html">js</a></li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
<ul class="dropdown-menu">
<li><a href="module-libs_emitter-Emitter.html">Emitter</a></li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Events<b class="caret"></b></a>
<ul class="dropdown-menu">
<li><a href="module-ui_fullpage_.html#~event:afterenter">module:ui/fullpage/.afterenter</a></li>
<li><a href="module-ui_window_.html#~event:beforeclose">module:ui/window/.beforeclose</a></li>
<li><a href="module-ui_fullpage_.html#~event:beforeenter">module:ui/fullpage/.beforeenter</a></li>
<li><a href="module-ui_fullpage_.html#~event:beforeleave">module:ui/fullpage/.beforeleave</a></li>
<li><a href="module-ui_window_.html#~event:beforeopen">module:ui/window/.beforeopen</a></li>
<li><a href="module-ui_window_.html#~event:beforeresize">module:ui/window/.beforeresize</a></li>
<li><a href="module-libs_scroll_.html#~event:bottom">module:libs/scroll/.bottom</a></li>
<li><a href="global.html#~event:cancel">module:ui/img-clip/.cancel</a></li>
<li><a href="module-libs_animation.html#~event:change">module:ui/pagination/.change</a></li>
<li><a href="global.html#event:choose">null.choose</a></li>
<li><a href="module-libs_queue.html#~event:clear">module:libs/queue.clear</a></li>
<li><a href="module-ui_img-clip_.html#~event:clip">module:ui/img-clip/.clip</a></li>
<li><a href="module-ui_img-clip_.html#~event:clipend">module:ui/img-clip/.clipend</a></li>
<li><a href="module-ui_img-clip_.html#~event:clipstart">module:ui/img-clip/.clipstart</a></li>
<li><a href="module-ui_msg_.html#~event:close">module:ui/window/.close</a></li>
<li><a href="module-libs_queue.html#~event:done">module:libs/queue.done</a></li>
<li><a href="module-libs_scroll_.html#~event:down">module:libs/scroll/.down</a></li>
<li><a href="module-core_event_drag.html#~event:drag">module:core/event/drag.drag</a></li>
<li><a href="module-libs_animation.html#~event:end">module:libs/animation.end</a></li>
<li><a href="module-ui_img-view_.html#~event:error">module:ui/img-clip/.error</a></li>
<li><a href="module-ui_dialog_.html#~event:esc">module:ui/mask/.esc</a></li>
<li><a href="module-ui_.html#~event:getoptions">module:ui/.getoptions</a></li>
<li><a href="module-ui_mask_.html#~event:hit">module:ui/mask/.hit</a></li>
<li><a href="module-ui_dialog_.html#~event:hitbg">module:ui/dialog/.hitbg</a></li>
<li><a href="module-ui_msg_.html#~event:open">module:ui/window/.open</a></li>
<li><a href="module-libs_queue.html#~event:pause">module:libs/queue.pause</a></li>
<li><a href="module-libs_scroll_.html#~event:pull">module:libs/scroll/.pull</a></li>
<li><a href="module-libs_queue.html#~event:push">module:libs/scroll/.push</a></li>
<li><a href="global.html#event:ready">null.ready</a></li>
<li><a href="module-ui_window_.html#~event:resize">module:ui/mask/.resize</a></li>
<li><a href="module-ui_resize_.html#~event:resizeend">module:ui/resize/.resizeend</a></li>
<li><a href="module-ui_resize_.html#~event:resizestart">module:ui/resize/.resizestart</a></li>
<li><a href="module-ui_scrollbar_.html#~event:scrollx">module:ui/scrollbar/.scrollx</a></li>
<li><a href="module-ui_scrollbar_.html#~event:scrolly">module:ui/scrollbar/.scrolly</a></li>
<li><a href="module-ui_.html#~event:setoptions">module:ui/.setoptions</a></li>
<li><a href="module-libs_queue.html#~event:shift">module:libs/queue.shift</a></li>
<li><a href="module-libs_queue.html#~event:size">module:libs/queue.size</a></li>
<li><a href="module-libs_animation.html#~event:start">module:libs/animation.start</a></li>
<li><a href="module-libs_queue.html#~event:step">module:libs/queue.step</a></li>
<li><a href="module-libs_queue.html#~event:stop">module:libs/queue.stop</a></li>
<li><a href="module-ui_editor_.html#~event:submit">module:ui/editor/.submit</a></li>
<li><a href="module-libs_scroll_.html#~event:top">module:libs/scroll/.top</a></li>
<li><a href="module-libs_scroll_.html#~event:up">module:libs/scroll/.up</a></li>
<li><a href="global.html#event:upload">null.upload</a></li>
<li><a href="module-libs_validator.html#~event:validateallend">module:libs/validator.validateallend</a></li>
<li><a href="module-libs_validator.html#~event:validateallstart">module:libs/validator.validateallstart</a></li>
<li><a href="module-libs_validator.html#~event:validateend">module:libs/validator.validateend</a></li>
<li><a href="module-libs_validator.html#~event:validateoneend">module:libs/validator.validateoneend</a></li>
<li><a href="module-libs_validator.html#~event:validateonestart">module:libs/validator.validateonestart</a></li>
<li><a href="module-libs_scroll_.html#~event:x">module:libs/scroll/.x</a></li>
<li><a href="module-libs_scroll_.html#~event:y">module:libs/scroll/.y</a></li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown">Globals<b class="caret"></b></a>
<ul class="dropdown-menu">
<li class="nav-header">Methods</li>
<li><a href="global.html#_bottom">_bottom</a></li>
<li><a href="global.html#_data">_data</a></li>
<li><a href="global.html#_device">_device</a></li>
<li><a href="global.html#_dialog">_dialog</a></li>
<li><a href="global.html#_geolocation">_geolocation</a></li>
<li><a href="global.html#_location">_location</a></li>
<li><a href="global.html#_media">_media</a></li>
<li><a href="global.html#_navigation">_navigation</a></li>
<li><a href="global.html#_share">_share</a></li>
<li><a href="global.html#_user">_user</a></li>
<li><a href="global.html#bottomApply">bottomApply</a></li>
<li><a href="global.html#broken">broken</a></li>
<li><a href="global.html#close">close</a></li>
<li><a href="global.html#dataSend">dataSend</a></li>
<li><a href="global.html#destroy">destroy</a></li>
<li><a href="global.html#deviceNetwork">deviceNetwork</a></li>
<li><a href="global.html#deviceSystem">deviceSystem</a></li>
<li><a href="global.html#dialogLoadingClose">dialogLoadingClose</a></li>
<li><a href="global.html#dialogLoadingOpen">dialogLoadingOpen</a></li>
<li><a href="global.html#dialogTipsOpen">dialogTipsOpen</a></li>
<li><a href="global.html#geolocationGet">geolocationGet</a></li>
<li><a href="global.html#geolocationMap">geolocationMap</a></li>
<li><a href="global.html#invoke">invoke</a></li>
<li><a href="global.html#locationClose">locationClose</a></li>
<li><a href="global.html#locationFinished">locationFinished</a></li>
<li><a href="global.html#locationFullscreen">locationFullscreen</a></li>
<li><a href="global.html#locationRedirect">locationRedirect</a></li>
<li><a href="global.html#mediaImg">mediaImg</a></li>
<li><a href="global.html#mediaInput">mediaInput</a></li>
<li><a href="global.html#mediaPicture">mediaPicture</a></li>
<li><a href="global.html#mediaUpload">mediaUpload</a></li>
<li><a href="global.html#navigationShow">navigationShow</a></li>
<li><a href="global.html#open">open</a></li>
<li><a href="global.html#ready">ready</a></li>
<li><a href="global.html#shareClose">shareClose</a></li>
<li><a href="global.html#shareData">shareData</a></li>
<li><a href="global.html#shareOpen">shareOpen</a></li>
<li><a href="global.html#shareQQfriend">shareQQfriend</a></li>
<li><a href="global.html#shareQQzone">shareQQzone</a></li>
<li><a href="global.html#shareSMS">shareSMS</a></li>
<li><a href="global.html#shareTimeline">shareTimeline</a></li>
<li><a href="global.html#shareWeibo">shareWeibo</a></li>
<li><a href="global.html#shareWeixin">shareWeixin</a></li>
<li><a href="global.html#upload">upload</a></li>
<li><a href="global.html#userGet">userGet</a></li>
<li><a href="global.html#userLogin">userLogin</a></li>
<li><a href="global.html#userLogout">userLogout</a></li>
<li><a href="global.html#when">when</a></li>
</ul>
</li>
</ul>

			<ul class="nav navbar-nav navbar-right">
                <li><a href="/">Alien home</a></li>
            </ul>
	    </nav>
  </div>
</div>


<div id="main">


	

	    <div class="main">
	        <nav id="docs-sidebar">
	            

	            <ul class="nav sidebar-list">
	                

	                

	                
	                    <li class="sidebar-header">Events &times; 91</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:afterenter">afterenter</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:beforeclose">beforeclose</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:beforeenter">beforeenter</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:beforeleave">beforeleave</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:beforeleave">beforeleave</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:beforeopen">beforeopen</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:beforeresize">beforeresize</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:bottom">bottom</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:bottom">bottom</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:bottom">bottom</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:cancel">cancel</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:cancel">cancel</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:change">change</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:change">change</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:change">change</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:change">change</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:change">change</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:change">change</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:change">change</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:change">change</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:change">change</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#event:choose">choose</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:clear">clear</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:clip">clip</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:clip">clip</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:clip">clip</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:clipend">clipend</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:clipend">clipend</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:clipend">clipend</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:clipstart">clipstart</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:clipstart">clipstart</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:clipstart">clipstart</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:close">close</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:close">close</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:close">close</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:close">close</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:done">done</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:done">done</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:done">done</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:done">done</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:done">done</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:down">down</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:drag">drag</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:end">end</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:error">error</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:error">error</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:error">error</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:esc">esc</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:esc">esc</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:getoptions">getoptions</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:hit">hit</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:hitbg">hitbg</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:open">open</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:open">open</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:open">open</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:pause">pause</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:pull">pull</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:push">push</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:push">push</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#event:ready">ready</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:resize">resize</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:resize">resize</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:resize">resize</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:resizeend">resizeend</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:resizestart">resizestart</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:scrollx">scrollx</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:scrollx">scrollx</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:scrolly">scrolly</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:scrolly">scrolly</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:setoptions">setoptions</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:shift">shift</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:size">size</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:start">start</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:step">step</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:stop">stop</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:submit">submit</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:submit">submit</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:top">top</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:up">up</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#event:upload">upload</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:validateallend">validateallend</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:validateallstart">validateallstart</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:validateend">validateend</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:validateend">validateend</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:validateoneend">validateoneend</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:validateoneend">validateoneend</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:validateoneend">validateoneend</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:validateonestart">validateonestart</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:validateonestart">validateonestart</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:x">x</a>
    
</li>

	                    
	                        

<li class="">
    
        <a class="" href="#~event:y">y</a>
    
</li>

	                    
	                

	                
	            </ul>
	        </nav>

	        <section id="docs-content">
	            <div class="content">
		            <h1 class="page-title">Source: core/dom/attribute.js</h1>

		            


    

<pre class="prettyprint source"><code>/*!
 * 核心 dom 属性器
 * @author ydr.me
 * 2014-09-16 18:30
 */


define(function (require, exports, module) {
    /**
     * @module core/dom/attribute
     * @requires utils/matrix
     * @requires utils/dato
     * @requires utils/number
     * @requires utils/typeis
     * @requires core/navigator/compatible
     * @requires core/dom/selector
     * @requires core/dom/see
     */
    'use strict';

    var regHump = /-(\w)/g;
    var regSep = /^-+|-+$/g;
    var regSplit = /[A-Z]/g;
    var regSpace = /\s+/;
    var matrix = require('../../utils/matrix.js');
    var dato = require('../../utils/dato.js');
    var number = require('../../utils/number.js');
    var string = require('../../utils/string.js');
    var typeis = require('../../utils/typeis.js');
    var compatible = require('../navigator/compatible.js');
    var selector = require('./selector.js');
    var see = require('./see.js');
    var allocation = require('../../utils/allocation.js');
    var REG_PX = /margin|width|height|padding|top|right|bottom|left|translate/i;
    var REG_DEG = /rotate|skew/i;
    var REG_TRANSFORM_WORD = /translate|scale|skew|rotate|matrix|perspective/i;
    var REG_IMPORTANT = /\s!important$/i;
    var REG_TRANSFORM_KEY = /transform/i;
    var REG_PERCENT = /%/;
    // +123.456
    // -123.456
    var regNum = /^[+\-]?\d+(\.\d*)?$/;
    var regEndPoint = /\.$/;
    var innerWidth = ['borderLeftWidth', 'borderRightWidth'];
    var width = innerWidth.concat(['paddingLeft', 'paddingRight']);
    var innerHeight = ['borderTopWidth', 'borderBottomWidth'];
    var height = innerHeight.concat(['paddingTop', 'paddingBottom']);
    var alienKey = '-alien-core-dom-attribute-';
    var win = window;
    var doc = win.document;
    var html = doc.documentElement;
    var body = doc.body;
    var isRelativeToViewport = _isRelativeToViewport();


    /**
     * 设置、获取元素的属性
     * @param {HTMLElement|Node} ele 元素
     * @param {String/Object/Array} key 特征键、键值对、键数组
     * @param {String} [val] 特征值
     * @returns {*}
     *
     * @example
     * // set
     * attribute.attr(ele, 'href', 'http://ydr.me');
     * attribute.attr(ele, {
     *    href: '',
     *    title: ''
     * });
     *
     * // get
     * attribute.attr(ele, 'href');
     * attribute.attr(ele, ['href', 'title']);
     */
    exports.attr = function (ele, key, val) {
        return _getSet(arguments, {
            get: function (ele, key) {
                if (!typeis.element(ele)) {
                    return;
                }

                return ele.getAttribute(key);
            },
            set: function (ele, key, val) {
                if (!typeis.element(ele)) {
                    return;
                }

                ele.setAttribute(key, val);
            }
        });
    };


    /**
     * 判断元素是否包含某个属性
     * @param {HTMLElement|Node} ele 元素
     * @param {String} key 单个特征
     * @returns {boolean}
     *
     * @example
     * // 判断是否有某个属性
     * attribute.hasAttr(ele, 'href');
     * // => true
     */
    exports.hasAttr = function (ele, key) {
        if (!typeis.element(ele)) {
            return false;
        }

        return ele.hasAttribute(key);
    };


    /**
     * 移除元素的某个属性
     * @param {HTMLElement|Node} ele 元素
     * @param {String} [key] 单个或多个特征属性，为空表示移除所有特征
     *
     * @example
     * // 移除
     * attribute.removeAttr(ele, 'href');
     */
    exports.removeAttr = function (ele, key) {
        if (!ele || ele.nodeType !== 1) {
            return;
        }

        var attrKeys = key ? key.split(regSpace) : ele.attributes;

        dato.each(attrKeys, function (index, key) {
            if (key) {
                ele.removeAttribute(typeis(key) === 'attr' ? key.nodeName : key);
            }
        });
    };


    /**
     * 设置、获取元素的特性
     * @param {HTMLElement|Node} ele 元素
     * @param {String/Object/Array} key 特性键、特性键值对、特性组
     * @param {*} [val] 特性值
     * @returns {*}
     *
     * @example
     * // set
     * attribute.prop(ele, 'hi', 'hey');
     * attribute.prop(ele, {
         *     hi: 'hey',
         *     ha: 'hehe'
         * });
     *
     * // get
     * attribute.prop(ele, 'hi');
     * attribute.prop(ele, ['hi', 'ha']);
     */
    exports.prop = function (ele, key, val) {
        return _getSet(arguments, {
            get: function (ele, key) {
                return ele[key];
            },
            set: function (ele, key, val) {
                ele[key] = val;
            }
        });
    };


    /**
     * 修正 css 键值
     * @param {String} key css 键
     * @param {*} [val] css 值
     * @returns {{key: String, val: *}}
     *
     * @example
     * attribute.fixCss('translateX', 10);
     * // =>
     * // {
     * //    key: 'transform',
     * //    val: 'translateX(10px)',
     * //    imp: false
     * // }
     *
     * attribute.fixCss('marginTop', '10px !important');
     * // =>
     * // {
     * //    key: 'margin-top',
     * //    val: '10px',
     * //    imp: true
     * // }
     */
    exports.fixCss = function (key, val) {
        val = val === null ? '' : String(val).trim();

        var important = null;

        if (REG_IMPORTANT.test(val)) {
            important = 'important';
            val = val.replace(REG_IMPORTANT, '');
        }

        var fixkey = key;
        var fixVal = _toCssVal(key, val);

        if (REG_TRANSFORM_WORD.test(key)) {
            fixkey = 'transform';
            fixVal = key + '(' + fixVal + ')';
        }

        return {
            key: compatible.css3(_toSepString(fixkey)),
            val: compatible.css3(fixVal) || fixVal,
            imp: important
        };
    };


    /**
     * 设置、获取元素的样式
     * @param {HTMLElement|Node} ele 元素
     * @param {String/Object/Array} key 样式属性、样式键值对、样式属性数组，
     *                                     样式属性可以写成`width::after`（伪元素的width）或`width`（实际元素的width）
     * @param {String|Number} [val] 样式属性值
     * @returns {*}
     *
     * @example
     * // set
     * attribute.css(ele, 'width', 100);
     * attribute.css(ele, 'width', 100);
     * attribute.css(ele, {
     *    width: 100,
     *    height: '200px !important'
     * });
     *
     * // get
     * attribute.css(ele, 'width');
     * attribute.css(ele, 'width::after');
     * attribute.css(ele, ['width','height']);
     */
    exports.css = exports.style = function (ele, key, val) {
        var transformKey = '';
        var important = '';

        return _getSet(arguments, {
            get: function (ele, key) {
                if (!typeis.element(ele)) {
                    return;
                }

                var temp = key.split('::');
                var pseudo = temp.length === 1 ? null : temp[temp.length - 1];

                key = temp[0];

                if (key &amp;&amp; REG_TRANSFORM_WORD.test(key)) {
                    return _toCssVal(key, _getEleTransform(ele, key));
                }

                pseudo = pseudo ? pseudo : null;
                return getComputedStyle(ele, pseudo).getPropertyValue(_toSepString(key));
            },
            set: function (ele, key, val) {
                if (!typeis.element(ele)) {
                    return;
                }

                key = key.split('::', 1)[0];

                var fix = exports.fixCss(key, val);

                if (fix.key &amp;&amp; REG_TRANSFORM_KEY.test(fix.key)) {
                    transformKey = fix.key;
                    _setEleTransform(ele, key, val);

                    if (!important &amp;&amp; fix.imp) {
                        important = fix.imp;
                    }
                } else {
                    // 样式名, 样式值, 优先级
                    // object.setProperty (propertyName, propertyValue, priority);
                    ele.style.setProperty(fix.key, fix.val, fix.imp);
                }
            },
            onset: function () {
                if (transformKey) {
                    ele.style.setProperty(transformKey, _calEleTransform(ele), important);
                }
            }
        });
    };


    /**
     * 设置、获取元素的滚动条高度
     * @param ele {HTMLElement|Node|Window|Document|Object} 元素
     * @param [top] {Number} 高度
     * @returns {number|undefined}
     *
     * @example
     * // get
     * attribute.scrollTop(ele);
     *
     * // set
     * attribute.scrollTop(ele, 100);
     */
    exports.scrollTop = function (ele, top) {
        ele = selector.query(ele)[0];

        if (typeis.undefined(top)) {
            return _isDispute(ele) ? Math.max(body.scrollTop, html.scrollTop) : ele.scrollTop;
        }

        if (_isDispute(ele)) {
            body.scrollTop = top;
            html.scrollTop = top;
        } else {
            ele.scrollTop = top;
        }
    };


    /**
     * 设置、获取元素的滚动条左距离
     * @param ele {HTMLElement|Node|Window|Document|Object} 元素
     * @param [left] {Number} 高度
     * @returns {number|undefined}
     *
     * @example
     * // get
     * attribute.scrollLeft(ele);
     *
     * // set
     * attribute.scrollLeft(ele, 100);
     */
    exports.scrollLeft = function (ele, left) {
        ele = selector.query(ele)[0];

        if (typeis.undefined(left)) {
            return _isDispute(ele) ? Math.max(body.scrollLeft, html.scrollLeft) : ele.scrollLeft;
        }

        if (_isDispute(ele)) {
            body.scrollLeft = left;
            html.scrollLeft = left;
        } else {
            ele.scrollLeft = left;
        }
    };


    /**
     * 设置、获取元素的数据集
     * @param {Object} ele 元素
     * @param {String/Object/Array} key 数据集键、键值对、键数组
     * @param {String} [val] 数据集值
     * @returns {*}
     *
     * @example
     * // set
     * attribute.data(ele, 'abc', 123);
     * attribute.data(ele, 'def', {
         *    a: 1,
         *    b: 2
         * });
     * // => &lt;div data-abc="123" data-def='{"a":1,"b":2}'>&lt;/div>
     * // data 逻辑与jquery 的 data 是不一致的，所有的数据都是保存在 DOM 上的
     *
     * // get
     * attribute.data(ele, 'abc');
     * // => "123"
     * attribute.data(ele, ['abc', 'def']);
     * // 数据会优先被 JSON 解析，如果解析失败将返回原始字符串
     * // => {a: 1, b: 2}
     */
    exports.data = function (ele, key, val) {
        return _getSet(arguments, {
            get: function (ele, key) {
                if (!typeis.element(ele)) {
                    return;
                }

                var ret = ele.dataset[string.humprize(key)];

                try {
                    ret = JSON.parse(ret);
                } catch (err1) {
                    try {
                        /* jshint evil: true */
                        var fn = new Function('', 'return ' + ret);
                        ret = fn();
                    } catch (err2) {
                        // ignore
                    }
                }

                return ret;
            },
            set: function (ele, key, val) {
                if (!typeis.element(ele)) {
                    return;
                }

                if (typeis(val) === 'object') {
                    try {
                        val = JSON.stringify(val);
                    } catch (err) {
                        val = '';
                    }
                }
                ele.dataset[string.humprize(key)] = val;
            }
        });
    };


    /**
     * 移除元素的数据集
     * @param $ele {HTMLElement|Node} 元素
     * @param key {String} 键
     * @returns {*}
     */
    exports.removeData = function ($ele, key) {
        if (!typeis.element($ele)) {
            return;
        }

        return exports.removeAttr($ele, 'data-' + key);
    };


    /**
     * 设置、获取元素的innerHTML
     * @param {Object} $ele 元素
     * @param {String} [html] html字符串
     * @returns {String|undefined}
     *
     * @example
     * // set
     * attribute.html(ele, 'html');
     *
     * // get
     * attribute.html(ele);
     */
    exports.html = function ($ele, html) {
        return _getSet(arguments, {
            get: function ($ele) {
                if (!typeis.element($ele)) {
                    return;
                }

                return $ele.innerHTML;
            },
            set: function (ele, html) {
                if (!typeis.element(ele)) {
                    return;
                }

                ele.innerHTML = html;
            }
        }, 1);
    };


    /**
     * 设置、获取元素的innerText
     * @param {Object} $ele 元素
     * @param {String} [text]  text字符串
     * @returns {String|undefined}
     *
     * @example
     * // set
     * attribute.text(ele, 'text');
     *
     * // get
     * attribute.text(ele);
     */
    exports.text = function ($ele, text) {
        return _getSet(arguments, {
            get: function ($ele) {
                if (!typeis.element($ele)) {
                    return null;
                }

                return $ele.innerText || $ele.textContent;
            },
            set: function (ele, text) {
                if (!typeis.element(ele)) {
                    return;
                }

                if ('innerText' in ele) {
                    ele.innerText = text;
                } else {
                    ele.textContent = text;
                }
            }
        }, 1);
    };


    /**
     * 添加元素的className
     * @param {Object} ele 元素
     * @param {String} className 多个className使用空格分开
     * @returns {undefined}
     *
     * @example
     * attribute.addClass(ele, 'class');
     * attribute.addClass(ele, 'class1 class2');
     */
    exports.addClass = function (ele, className) {
        var eles = typeis.array(ele) ? ele : [ele];

        dato.each(eles, function (i, ele) {
            _class(ele, 0, className);
        });
    };


    /**
     * 移除元素的className
     * @param {Object|Array} ele 元素
     * @param {String} [className] 多个className使用空格分开，留空表示移除所有className
     * @returns {undefined}
     *
     * @example
     * // remove all className
     * attribute.removeClass(ele);
     * attribute.removeClass(ele, 'class');
     * attribute.removeClass(ele, 'class1 class2');
     */
    exports.removeClass = function (ele, className) {
        var eles = typeis.array(ele) ? ele : [ele];

        dato.each(eles, function (i, ele) {
            _class(ele, 1, className);
        });
    };


    /**
     * 判断元素是否包含某个className
     * @param {HTMLElement|Node} ele 元素
     * @param {String} className 单个className
     * @returns {Boolean}
     *
     * @example
     * attribute.hasClass(ele, 'class');
     */
    exports.hasClass = function (ele, className) {
        return _class(ele, 2, className);
    };


    /**
     * 获取、设置元素距离文档边缘的 top 距离
     * @param {Object} $ele
     * @param {Number} [val] 距离值
     * @returns {Number|undefined|*}
     *
     * @example
     * // set
     * position.top($ele, 100);
     *
     * // get
     * position.top($ele);
     */
    exports.top = function ($ele, val) {
        return _middleware('top', arguments, ['scrollTop']);
    };


    /**
     * 获取、设置元素距离文档边缘的 left 距离
     * @param {Object} $ele
     * @param {Number} [val] 距离值
     * @returns {Number|undefined|*}
     *
     * @example
     * // set
     * position.left($ele, 100);
     *
     * // get
     * position.left($ele);
     */
    exports.left = function ($ele, val) {
        return _middleware('left', arguments, ['scrollLeft']);
    };


    /**
     * 获取、设置元素的占位宽度
     * content + padding + border
     * @param {Object} $ele
     * @param {Number} [val] 宽度值
     * @returns {Number|undefined|*}
     *
     * @example
     * // set
     * position.width($ele, 100);
     *
     * // get
     * position.width($ele);
     */
    exports.outerWidth = function ($ele, val) {
        return _middleware('width', arguments, []);
    };


    /**
     * 获取、设置元素的占位宽度
     * content + padding
     * @param {Object} $ele
     * @param {Number} [val] 宽度值
     * @returns {Number|undefined|*}
     *
     * @example
     * // set
     * position.width($ele, 100);
     *
     * // get
     * position.width($ele);
     */
    exports.innerWidth = function ($ele, val) {
        return _middleware('width', arguments, innerWidth);
    };


    /**
     * 获取、设置元素的占位宽度
     * content
     * @param {Object} $ele
     * @param {Number} [val] 宽度值
     * @returns {Number|undefined|*}
     *
     * @example
     * // set
     * position.width($ele, 100);
     *
     * // get
     * position.width($ele);
     */
    exports.width = function ($ele, val) {
        return _middleware('width', arguments, width);
    };


    /**
     * 获取、设置元素的占位高度
     * content + padding + border
     * @param {Object} $ele
     * @param {Number} [val] 高度值
     * @returns {Number|undefined|*}
     *
     * @example
     * // set
     * position.height(ele, 100);
     *
     * // get
     * position.height(ele);
     */
    exports.outerHeight = function ($ele, val) {
        return _middleware('height', arguments, []);
    };


    /**
     * 获取、设置元素的占位高度
     * content + padding
     * @param {Object} $ele
     * @param {Number} [val] 高度值
     * @returns {Number|undefined|*}
     *
     * @example
     * // set
     * position.height(ele, 100);
     *
     * // get
     * position.height(ele);
     */
    exports.innerHeight = function ($ele, val) {
        return _middleware('height', arguments, innerHeight);
    };


    /**
     * 获取、设置元素的占位高度
     * content
     * @param {Object} $ele
     * @param {Number} [val] 高度值
     * @returns {Number|undefined|*}
     *
     * @example
     * // set
     * position.height(ele, 100);
     *
     * // get
     * position.height(ele);
     */
    exports.height = function ($ele, val) {
        return _middleware('height', arguments, height);
    };


    /**
     * 返回当前文档上处于指定坐标位置最顶层的可见元素,
     * 坐标是相对于包含该文档的浏览器窗口的左上角为原点来计算的,
     * 通常 x 和 y 坐标都应为正数.
     * @param clientX {Number} 元素位置x
     * @param clientY {Number} 元素位置y
     * @returns {HTMLElement}
     * @ref https://github.com/moll/js-element-from-point
     */
    exports.getElementFromPoint = function (clientX, clientY) {
        if (!isRelativeToViewport) {
            clientX += win.pageXOffset;
            clientY += win.pageYOffset;
        }

        return doc.elementFromPoint(clientX, clientY);
    };


    ////////////////////////////////////////////////////////////////////
    ////////////////////////////[ private ]/////////////////////////////
    ////////////////////////////////////////////////////////////////////


    /**
     * 转换驼峰为分隔字符串
     * @param {String} string 原始字符串
     * @returns {String} string  格式化后的字符串
     * @private
     */
    function _toSepString(string) {
        return regHump.test(string) ?
            string :
            string.replace(regSep, '').replace(regSplit, function ($0) {
                return '-' + $0.toLowerCase();
            });
    }


    /**
     * 转换纯数字的css属性为字符，如：width=100 => width=100px
     * @param {String} key css属性
     * @param {String|Number} val css属性值
     * @returns {*}
     * @private
     */
    function _toCssVal(key, val) {
        val += '';

        if (!REG_PX.test(key) &amp;&amp; !REG_DEG.test(key)) {
            return val;
        }

        if (regNum.test(val)) {
            return val.replace(regEndPoint, '') +
                (REG_PX.test(key) ? 'px' : 'deg');
        }

        return val;
    }


    /**
     * 是否为有争议的 ele
     * @param ele
     * @returns {boolean}
     * @private
     */
    function _isDispute(ele) {
        return ele === win || ele === doc || ele === body || ele === html;
    }


    /**
     * get set 传输派发
     * @param {Object} args   参数类数组
     * @param {Object} getSet 传输对象
     * @param {Number} [argumentsSetLength] 传输设置的参数个数，默认为2
     * @returns {*}
     * @private
     */
    function _getSet(args, getSet, argumentsSetLength) {
        var $ele = args[0];

        return allocation.getset({
            get: function (key) {
                return getSet.get($ele, key);
            },
            set: function (key, val) {
                getSet.set($ele, key, val);
            },
            onset: getSet.onset
        }, [].slice.call(args, 1), argumentsSetLength);
    }


    /**
     * 操作元素的className
     * @param {HTMLElement|Node} ele 元素
     * @param {Number} type 操作类型，0=add，1=remove，2=has
     * @param {String} [className] 样式名称，多个样式使用空格分开
     * @returns {*}
     * @private
     */
    function _class(ele, type, className) {

        if (typeis(ele) !== 'element') {
            return;
        }

        var classNames;

        if (className) {
            classNames = className.trim().split(regSpace);
        }

        var classList = ele.classList;

        switch (type) {
            // addClass
            case 0:
                dato.each(classNames, function (index, klass) {
                    if (klass &amp;&amp; !_class(ele, 2, klass)) {
                        classList.add(klass);
                    }
                });
                break;

            // removeClass
            case 1:
                if (classNames &amp;&amp; classNames.length) {
                    dato.each(classNames, function (index, klass) {
                        if (klass) {
                            classList.remove(klass);
                        }
                    });
                } else {
                    ele.className = '';
                }
                break;

            // hasClass
            case 2:
                return classList.contains(classNames[0]);

        }
    }


    /**
     * 中间件
     * @param {String} key 求值类型
     * @param {Array} args 参数数组
     * @param {Array} [extraKey] 额外附加
     * @returns {Number|undefined|*}
     * @private
     */
    function _middleware(key, args, extraKey) {
        var ele;
        var eleType;
        var argsLength = args.length;
        var extraVal = 0;

        if (argsLength) {
            ele = args[0];
            eleType = typeis(ele);

            if (ele !== win &amp;&amp; ele !== doc &amp;&amp; eleType !== 'element') {
                return;
            }

            if (extraKey.length &amp;&amp; eleType === 'element') {
                dato.each(extraKey, function (i, key) {
                    extraVal += key.indexOf('scroll') > -1 ?
                        -number.parseFloat(exports[key](window), 0) :
                        number.parseFloat(exports.css(ele, key), 0);
                });
            }

            // 切换显隐
            return _swap(ele, function () {
                // get
                if (argsLength === 1) {
                    var key2 = /w/.test(key) ? 'Width' : 'Height';
                    switch (eleType) {
                        case 'element':
                            return ele.getBoundingClientRect()[key] - extraVal;

                        case 'window':
                            return window['inner' + key2];

                        case 'document':
                            return Math.max(html['scroll' + key2], html['client' + key2])
                    }
                }
                // set
                else if (argsLength === 2 &amp;&amp; eleType === 'element' &amp;&amp; typeis(args[1]) === 'number') {
                    _setBoundingClientRect(ele, key, args[1] + extraVal, extraKey[0]);
                }
            });
        }
    }


    /**
     * 设置元素的位置
     * @param {HTMLElement|Node} ele 元素
     * @param {String} key 键名
     * @param {Number} val 键值
     * @param {Number} extraKey 额外的键
     * @private
     */
    function _setBoundingClientRect(ele, key, val, extraKey) {
        var elePos = exports.css(ele, 'position');
        var rect;
        var now;
        var width;
        var height;
        var deleta;
        var css;

        // 绝对定位的元素，先设置其 top、left值
        if (elePos === 'absolute') {
            exports.css(ele, {
                top: ele.offsetTop,
                left: ele.offsetLeft
            });
        }

        rect = ele.getBoundingClientRect();
        now = rect[key];
        width = rect.width;
        height = rect.height;
        deleta = val - now;

        if ((key === 'top' || key === 'left') &amp;&amp; extraKey) {
            deleta -= exports[extraKey](ele);
        }

        if (exports.css(ele, 'position') === 'static' &amp;&amp; key !== 'width' &amp;&amp; key !== 'height') {
            css = number.parseFloat(exports.css(ele, 'margin-' + key), 0);
            exports.css(ele, 'margin-' + key, css + deleta);
        } else {
            css = number.parseFloat(exports.css(ele, key), 0);
            exports.css(ele, key, css + deleta);
        }
    }

    /**
     * 切换显隐状态来计算元素尺寸
     * @param {HTMLElement|Node} ele 元素
     * @param {Function} doWhat 做
     * @private
     */
    function _swap(ele, doWhat) {
        var eles;
        var ret;

        if (see.visibility(ele) === 'visible') {
            return doWhat(ele);
        } else {
            eles = see.visibility(ele, 'visible');

            ret = doWhat(ele);

            dato.each(eles, function (index, ele) {
                ele.style.display = ele['-alien-core-dom-see-display'] || 'block';
            });

            return ret;
        }
    }


    /**
     * 测试是否相对于视口计算
     * @returns {boolean}
     */
    function _isRelativeToViewport() {
        var x = win.pageXOffset ? win.pageXOffset + win.innerWidth - 1 : 0;
        var y = win.pageYOffset ? win.pageYOffset + win.innerHeight - 1 : 0;

        if (!x &amp;&amp; !y) {
            return true;
        }

        // Test with a point larger than the viewport. If it returns an element,
        // then that means elementFromPoint takes page coordinates.
        return !doc.elementFromPoint(x, y);
    }


    /**
     * 存储元素的 transform 特征
     * @param ele
     * @param key
     * @param val
     * @private
     */
    function _setEleTransform(ele, key, val) {
        var val2 = val;
        var isPercent = REG_PERCENT.test(val);
        var base;

        // 计算百分比的 translate
        switch (key) {
            case 'translateX':
                base = isPercent ? exports.outerWidth(ele) : 0;
                val2 = number.parseFloat(val, 0);
                val2 = isPercent ? base * val2 / 100 : val2;
                break;

            case 'translateY':
                base = isPercent ? exports.outerHeight(ele) : 0;
                val2 = number.parseFloat(val, 0);
                val2 = isPercent ? base * val2 / 100 : val2;
                break;

            case 'translate':
                _setEleTransform(ele, 'translateX', val);
                _setEleTransform(ele, 'translateY', val);
                return;

            case 'scale':
                // scale 到 0 的时候，会出现矩阵计算错误
                val2 = number.parseFloat(val2, 0);
                val2 = val === 0 ? 0.01 : val2;
                break;
        }

        ele[alienKey + 'transform'] = ele[alienKey + 'transform'] || {};
        ele[alienKey + 'transform'][key] = val2;
    }


    /**
     * 获取元素的 transform 特征
     * @param ele
     * @param key
     * @private
     */
    function _getEleTransform(ele, key) {
        ele[alienKey + 'transform'] = ele[alienKey + 'transform'] || {};
        return ele[alienKey + 'transform'][key];
    }


    /**
     * 综合计算元素的 transform 2d 变换矩阵
     * @param ele
     * @private
     */
    function _calEleTransform(ele) {
        var trans = ele[alienKey + 'transform'] = ele[alienKey + 'transform'] || {};

        return matrix(trans);
    }
});</code></pre>






	            </div>
	        </section>
	    </div>

    


</div>

<script src="/static/js/jquery.1.10.min.js"> </script>
<script src="/static/js/prettify/prettify.js"> </script>
<script src="/static/js/prettify/lang-css.js"> </script>
<script> prettyPrint(); </script>
<script src="/static/js/linenumber.js"> </script>
<script src="/static/js/bootstrap.js"> </script>
<script src="/static/js/script.js"> </script>

</body>
</html>
