<!DOCTYPE html>
<!--
 - upload.html
 - @author ydr.me
 - @create 2014-10-09 21:37
 -->
<html>
<head lang="zh-cn">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width,user-scalable=no,maximum-scale=1.0,minimum-scale=1.0,minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta name="author" content="云淡然;http://ydr.me">
    <meta name="keywords" content="关键词1,关键词2">
    <meta name="description" content="描述语句">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <title>upload.html</title>
</head>
<body>

<input type="file" name="file" id="file"/>

<script src="/seajs/sea.js" id="script"></script>
<script>
    define('app', function (require) {
        var upload = require('/src/core/communication/upload.js');

        document.getElementById('file').onchange = function(){
            if(this.files && this.files.length){
                upload({
                    url: './data.json',
                    file: this
                }).done(function (json) {
                    console.log(json);
                }).fail(function (err) {
                    console.log(err);
                }).progress(function (eve) {
                    console.log(eve.alienDetail.complete);
                });
            }
        };
    });
    seajs.use('app');
</script>

</body>
</html>