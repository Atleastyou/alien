<!DOCTYPE html>
<!--
 - 文件描述
 - @author ydr.me
 - @create 2015-06-18 14:33
 -->
<html>
<head lang="zh-cn">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width,user-scalable=no,maximum-scale=1.0,minimum-scale=1.0,minimal-ui">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="author" content="云淡然;http://ydr.me">
    <meta name="keywords" content="关键词1,关键词2">
    <meta name="description" content="描述语句">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <title>tpl.html</title>
</head>
<body ontouchstart="">

<script type="text/ppp" id="p">
{{2}}
<span soda-if="2">显示</span>
<span soda-if="0">不显示</span>
{{a.p || a}}
{{0}}
{{'aa' + 1}}
<img soda-src="pp{{'aa'}}.img" soda-if='1' />
<div soda-repeat="item in list" data-id="{{item.name}}" id="sd{{p}}">
{{item.show |   date:'2'}}
{{item.show |        filter1:$index}}
  <div soda-bind-html="'b{{fsadf}}'">
    <div>sadf</div>
  </div>
  <img soda-src="pp{{'aa2'}}.img" soda-if='0' />
</div>


<div class="{{a+1}}" soda-if="a" soda-class="!a ? 'active' : 'p'">{{a}}</div>
{{list[0]['name']}}
</script>

<div id="pp"></div>


<script type="text/javascript" src="./sodarender.js"></script>
<script type="text/javascript">
    window.show = 1;
    sodaFilter("date", function(input, length){
        return "2d" + length;
    });

    sodaFilter("filter1", function(input, show){
        console.log(input, show);
        return input + show;
    });
    var data = {
        a: 1,
        list: [
            {list: [{'title': '<>aa</h1>'}, {'title': 'bb'}], name: 0, show: 1},
            {list: [{'title': 0 }, {'title': 'bb'}], name: 'b'},
            {list: [{'title': 'aa'}, {'title': 'bb'}], name: 'b'},
            {list: [{'title': 'aa'}, {'title': 'bb'}], name: 'b'},
            {list: [{'title': 'aa'}, {'title': 'bb'}], name: 'b'},
            {list: [{'title': 'aa'}, {'title': 'bb'}], name: 'b'},
            {list: [{'title': 'aa'}, {'title': 'bb'}], name: 'c'}
        ],

        b: '<div><a href=pp>{{s|sdfsdf{{adfdsf}}</a></div>'
    };
    var t = + new Date();
    var target = document.getElementById("pp");
    var result = sodaRender(document.getElementById("p").innerHTML, data);

    //console.dir(result.innerHTML);

    target.appendChild(result);

    console.log(+ new Date - t);

</script>

</body>
</html>